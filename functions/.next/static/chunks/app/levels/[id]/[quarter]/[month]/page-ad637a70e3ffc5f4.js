(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[180],{1304:(e,t,r)=>{"use strict";r.d(t,{db:()=>i,j2:()=>l});var a=r(3915),s=r(5317),c=r(858),n=r(6203);let o=0===(0,a.Dk)().length?(0,a.Wp)({apiKey:"AIzaSyARLoCaF3g_z_RcZdU7yp19rgt7YSghGWw",authDomain:"growingbeans-3aa62.firebaseapp.com",projectId:"growingbeans-3aa62",storageBucket:"growingbeans-3aa62.firebasestorage.app",messagingSenderId:"498344379382",appId:"1:498344379382:web:684c82f8f8ab7084a67dd7",measurementId:"G-NJD4T1QKKQ"}):(0,a.Dk)().length>0?(0,a.Dk)()[0]:null,i=o?(0,s.aU)(o):null;o&&(0,c.c7)(o);let l=o?(0,n.xI)(o):null},2743:(e,t,r)=>{"use strict";r.d(t,{Ln:()=>h,Nj:()=>u,a9:()=>o,gL:()=>i,h5:()=>m,nd:()=>l,xB:()=>d});var a=r(1304),s=r(5317);let c=()=>{if(!a.db)throw Error("Firestore가 초기화되지 않았습니다. 클라이언트 사이드에서만 이 함수를 호출해주세요.");return a.db},n=()=>{let e=c();return(0,s.rJ)(e,"videos")};async function o(e,t){try{let r=c(),a=(0,s.H9)(r,"users",e),n={...t,createdAt:(0,s.O5)(),updatedAt:(0,s.O5)()};return await (0,s.BN)(a,n),{uid:e,...n}}catch(e){throw console.error("사용자 데이터 생성 오류:",e),e}}async function i(e){try{let t=c(),r=(0,s.H9)(t,"users",e),a=await (0,s.x7)(r);if(a.exists())return{uid:a.id,...a.data()};return null}catch(e){throw console.error("사용자 데이터 불러오기 오류:",e),e}}async function l(e,t){try{let r=n(),a=(0,s.P)(r,(0,s._M)("levelId","==",e),(0,s._M)("quarterId","==",t),(0,s._M)("type","==","library")),c=await (0,s.GG)(a),o=[];return c.forEach(e=>{o.push({id:e.id,...e.data()})}),o.sort((e,t)=>e.title.localeCompare(t.title,"ko"))}catch(e){throw console.error("분기별 영상 불러오기 오류:",e),e}}async function d(e,t,r,a){try{let c=n(),o=(0,s.P)(c,(0,s._M)("levelId","==",e),(0,s._M)("quarterId","==",t),(0,s._M)("monthId","==",r),(0,s._M)("weekId","==",a),(0,s._M)("type","==","lesson")),i=await (0,s.GG)(o),l=[];return i.forEach(e=>{l.push({id:e.id,...e.data()})}),l.sort((e,t)=>e.title.localeCompare(t.title,"ko"))}catch(e){throw console.error("주차별 영상 불러오기 오류:",e),e}}async function u(e){try{let t=n(),r={...e,createdAt:(0,s.O5)(),updatedAt:(0,s.O5)()};return{id:(await (0,s.gS)(t,r)).id,...r}}catch(e){throw console.error("비디오 추가 오류:",e),e}}async function m(e,t){try{let r=c(),a=(0,s.H9)(r,"videos",e);return await (0,s.mZ)(a,{...t,updatedAt:(0,s.O5)()}),{id:e,...t}}catch(e){throw console.error("비디오 업데이트 오류:",e),e}}async function h(e){try{let t=c(),r=(0,s.H9)(t,"videos",e);return await (0,s.kd)(r),{success:!0,id:e}}catch(e){throw console.error("비디오 삭제 오류:",e),e}}},5695:(e,t,r)=>{"use strict";var a=r(8999);r.o(a,"useParams")&&r.d(t,{useParams:function(){return a.useParams}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}})},6260:(e,t,r)=>{Promise.resolve().then(r.bind(r,8509))},8509:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var a=r(5155),s=r(5695),c=r(6874),n=r.n(c),o=r(2115),i=r(2743);let l={m1:"1분기 첫번째 달",m2:"1분기 두번째 달",m3:"1분기 세번째 달",m4:"2분기 첫번째 달",m5:"2분기 두번째 달",m6:"2분기 세번째 달",m7:"3분기 첫번째 달",m8:"3분기 두번째 달",m9:"3분기 세번째 달",m10:"4분기 첫번째 달",m11:"4분기 두번째 달",m12:"4분기 세번째 달"},d=[{id:"w1",title:"1주차",icon:"\uD83D\uDCC5"},{id:"w2",title:"2주차",icon:"\uD83D\uDCC5"},{id:"w3",title:"3주차",icon:"\uD83D\uDCC5"},{id:"w4",title:"4주차",icon:"\uD83D\uDCC5"}];function u(){let{id:e,quarter:t,month:r}=(0,s.useParams)(),[c,u]=(0,o.useState)({w1:!1,w2:!1,w3:!1,w4:!1}),[m,h]=(0,o.useState)(!0);return(0,o.useEffect)(()=>{!async function(){try{h(!0);let a={};for(let s of d){let c=await (0,i.xB)(e,t,r,s.id);a[s.id]=c.length>0}u(a),h(!1)}catch(e){console.error("주차별 영상 데이터 확인 오류:",e),h(!1)}}()},[e,t,r]),(0,a.jsx)("main",{className:"min-h-screen p-8 bg-gradient-to-b from-blue-50 to-purple-50",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,a.jsx)("div",{className:"mb-8",children:(0,a.jsxs)(n(),{href:"/levels/".concat(e),className:"inline-flex items-center text-purple-600 hover:text-purple-700 font-comic",children:[(0,a.jsx)("svg",{className:"w-6 h-6 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"레벨 ",e,"로 돌아가기"]})}),(0,a.jsxs)("div",{className:"bg-white rounded-2xl p-6 mb-8 border-4 border-white shadow-lg",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold text-purple-600 mb-4 font-comic",children:l[r]}),(0,a.jsx)("p",{className:"text-xl text-gray-600 font-comic",children:"함께 영어를 배워봐요!"})]}),m?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("div",{className:"inline-block animate-bounce text-5xl mb-4",children:"\uD83D\uDD04"}),(0,a.jsx)("p",{className:"text-gray-600 font-comic",children:"데이터를 불러오고 있어요..."})]}):(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.map(s=>c[s.id]&&(0,a.jsx)(n(),{href:"/levels/".concat(e,"/").concat(t,"/").concat(r,"/").concat(s.id),className:"block",children:(0,a.jsx)("div",{className:"bg-white rounded-2xl p-6 border-4 border-white shadow-lg transform hover:scale-105 transition-transform duration-300",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("span",{className:"text-4xl mr-4",children:s.icon}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-800 font-comic",children:s.title}),(0,a.jsx)("p",{className:"text-gray-600 font-comic",children:"이번 주차 수업을 확인해보세요!"})]})]})})},s.id)),!Object.values(c).some(e=>e)&&(0,a.jsxs)("div",{className:"col-span-1 md:col-span-2 bg-white rounded-2xl p-6 border-4 border-white shadow-lg text-center",children:[(0,a.jsx)("div",{className:"text-6xl mb-4",children:"\uD83D\uDCED"}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-600 mb-2 font-comic",children:"아직 영상 자료가 없어요"}),(0,a.jsx)("p",{className:"text-gray-500 font-comic",children:"준비 중이니 조금만 기다려주세요!"})]})]})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[992,118,288,874,441,684,358],()=>t(6260)),_N_E=e.O()}]);