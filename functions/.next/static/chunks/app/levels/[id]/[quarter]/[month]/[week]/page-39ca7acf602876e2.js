(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[345],{8528:(e,l,t)=>{"use strict";t.r(l),t.d(l,{default:()=>x});var s=t(5155),r=t(5695),i=t(6874),a=t.n(i),n=t(2115),d=t(2743),o=t(650),c=t(8273);let m={m1:"1분기 첫번째 달",m2:"1분기 두번째 달",m3:"1분기 세번째 달",m4:"2분기 첫번째 달",m5:"2분기 두번째 달",m6:"2분기 세번째 달",m7:"3분기 첫번째 달",m8:"3분기 두번째 달",m9:"3분기 세번째 달",m10:"4분기 첫번째 달",m11:"4분기 두번째 달",m12:"4분기 세번째 달"},h={w1:"1주차",w2:"2주차",w3:"3주차",w4:"4주차"};function x(){let{id:e,quarter:l,month:t,week:i}=(0,r.useParams)(),[x,u]=(0,n.useState)([]),[p,v]=(0,n.useState)(!0),[b,w]=(0,n.useState)(null),{isAdmin:j,isTeacher:f}=(0,o.A)(),g=j||f,[N,y]=(0,n.useState)(0),k=(0,n.useCallback)(async()=>{try{v(!0),w(null);let s=await (0,d.xB)(e,l,t,i);if(Array.isArray(s)&&s.length>0){let e=s.filter(e=>e&&e.id&&e.videoUrl&&"string"==typeof e.videoUrl&&""!==e.videoUrl.trim());u(e),0===e.length&&console.warn("유효한 비디오 데이터가 없습니다")}else console.warn("비디오 데이터가 없거나 배열이 아닙니다");v(!1)}catch(e){console.error("비디오 데이터 불러오기 오류:",e),w("데이터를 불러오는 중 오류가 발생했습니다."),v(!1)}},[e,l,t,i]);(0,n.useEffect)(()=>{k()},[k,N]);let C=(0,n.useCallback)(()=>{w(null),y(e=>e+1)},[]),U=(0,n.useCallback)((e,l)=>{let t=e.replace(".m3u8",".mp4").replace("/hls/","/"),s=document.createElement("a");s.href=t,s.download="".concat(l,".mp4"),s.target="_blank",document.body.appendChild(s),s.click(),document.body.removeChild(s)},[]);return(0,s.jsx)("main",{className:"min-h-screen p-8 bg-gradient-to-b from-blue-50 to-purple-50",children:(0,s.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,s.jsx)("div",{className:"mb-8",children:(0,s.jsxs)(a(),{href:"/levels/".concat(e,"/").concat(l,"/").concat(t),className:"inline-flex items-center text-purple-600 hover:text-purple-700 font-comic",children:[(0,s.jsx)("svg",{className:"w-6 h-6 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),m[t],"으로 돌아가기"]})}),(0,s.jsxs)("div",{className:"bg-white rounded-2xl p-6 mb-8 border-4 border-white shadow-lg",children:[(0,s.jsxs)("h1",{className:"text-4xl font-bold text-purple-600 mb-4 font-comic",children:[m[t]," ",h[i]]}),(0,s.jsx)("p",{className:"text-xl text-gray-600 font-comic",children:"즐겁게 영어를 배워보아요!"})]}),p?(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("div",{className:"inline-block animate-bounce text-5xl mb-4",children:"\uD83D\uDD04"}),(0,s.jsx)("p",{className:"text-gray-600 font-comic",children:"영상을 불러오고 있어요..."})]}):b?(0,s.jsxs)("div",{className:"text-center py-12 bg-white rounded-2xl p-6 border-4 border-white shadow-lg",children:[(0,s.jsx)("div",{className:"text-5xl mb-4",children:"\uD83D\uDE15"}),(0,s.jsx)("p",{className:"text-gray-600 font-comic",children:b}),(0,s.jsx)("p",{className:"text-gray-600 font-comic mt-2",children:"잠시 후 다시 시도해주세요."}),(0,s.jsx)("button",{onClick:C,className:"mt-4 bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg font-comic transition duration-200",children:"다시 시도하기"})]}):x.length>0?(0,s.jsx)("div",{className:"space-y-8",children:x.map((e,l)=>(0,s.jsxs)("div",{className:"bg-white rounded-2xl p-6 border-4 border-white shadow-lg",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-800 font-comic",children:e.title}),(0,s.jsx)("p",{className:"text-gray-600 font-comic",children:e.description})]}),g&&(0,s.jsxs)("button",{onClick:()=>U(e.videoUrl,e.title),className:"flex items-center bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg transition duration-200",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})}),"다운로드"]})]}),(0,s.jsx)("div",{className:"aspect-video my-4 rounded-xl overflow-hidden border-4 border-purple-100",children:(0,s.jsx)(c.A,{videoUrl:e.videoUrl,thumbnail:e.thumbnail,videoId:l+1})})]},e.id||l))}):(0,s.jsx)("div",{className:"space-y-8",children:[{id:1,title:"인사하는 방법",description:"인사하는 방법을 배워봐요!",videoUrl:"https://d3asw5knevel36.cloudfront.net/videos/레벨1/1분기/hls/레벨1 복습영상 3월 1주/레벨1 복습영상 3월 1주.m3u8",thumbnail:"/thumbnails/hello.jpg"},{id:2,title:"ABC 노래",description:"알파벳을 배워봐요!",videoUrl:"https://d3asw5knevel36.cloudfront.net/videos/레벨1/1분기/hls/레벨1 복습영상 3월 1주/레벨1 복습영상 3월 1주.m3u8",thumbnail:"/thumbnails/abc.jpg"}].map((e,l)=>(0,s.jsxs)("div",{className:"bg-white rounded-2xl p-6 border-4 border-white shadow-lg",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-800 font-comic",children:e.title}),(0,s.jsx)("p",{className:"text-gray-600 font-comic",children:e.description})]}),g&&(0,s.jsxs)("button",{onClick:()=>U(e.videoUrl,e.title),className:"flex items-center bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg transition duration-200",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})}),"다운로드"]})]}),(0,s.jsx)("div",{className:"aspect-video my-4 rounded-xl overflow-hidden border-4 border-purple-100",children:(0,s.jsx)(c.A,{videoUrl:e.videoUrl,thumbnail:e.thumbnail,videoId:l+100})})]},e.id||l))})]})})}},9416:(e,l,t)=>{Promise.resolve().then(t.bind(t,8528))}},e=>{var l=l=>e(e.s=l);e.O(0,[992,118,288,874,280,441,684,358],()=>l(9416)),_N_E=e.O()}]);