(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{344:(e,r,t)=>{"use strict";t.d(r,{_h:()=>n,y4:()=>l});var s=t(6203),a=t(1304);let n=async(e,r)=>{try{if(!a.j2)throw Error("인증 인스턴스가 초기화되지 않았습니다");let t=await (0,s.x9)(a.j2,e,r);return{success:!0,user:t.user}}catch(e){return{success:!1,error:e.message}}},l=async()=>{try{if(!a.j2)throw Error("인증 인스턴스가 초기화되지 않았습니다");return await (0,s.CI)(a.j2),{success:!0}}catch(e){return{success:!1,error:e.message}}}},650:(e,r,t)=>{"use strict";t.d(r,{A:()=>d,AuthProvider:()=>i});var s=t(5155),a=t(2115),n=t(344),l=t(5317),u=t(1304),o=t(6203);let c=(0,a.createContext)();function i(e){let{children:r}=e,[t,i]=(0,a.useState)(null),[d,h]=(0,a.useState)(!0),[g,p]=(0,a.useState)(!1),[b,f]=(0,a.useState)(!1),[m,y]=(0,a.useState)(null);return(0,a.useEffect)(()=>{try{let e=(0,o.hg)(n.auth,async e=>{if(e){i(e);try{let r=await (0,l.x7)((0,l.H9)(u.db,"users",e.uid));if(r.exists()){let e=r.data().role||"user";y(e),p("admin"===e),f("teacher"===e)}else p(!1),f(!1),y(null)}catch(e){console.error("사용자 역할 확인 중 오류:",e),p(!1),f(!1)}}else i(null),p(!1),f(!1),y(null);h(!1)});return()=>e&&e()}catch(e){return console.error("인증 상태 리스너 설정 중 오류 발생:",e),h(!1),()=>{}}},[]),(0,s.jsx)(c.Provider,{value:{user:t,loading:d,isAdmin:g,isTeacher:b,userRole:m},children:r})}function d(){return(0,a.useContext)(c)}},1304:(e,r,t)=>{"use strict";t.d(r,{db:()=>o,j2:()=>c});var s=t(3915),a=t(5317),n=t(858),l=t(6203);let u=0===(0,s.Dk)().length?(0,s.Wp)({apiKey:"AIzaSyARLoCaF3g_z_RcZdU7yp19rgt7YSghGWw",authDomain:"growingbeans-3aa62.firebaseapp.com",projectId:"growingbeans-3aa62",storageBucket:"growingbeans-3aa62.firebasestorage.app",messagingSenderId:"498344379382",appId:"1:498344379382:web:684c82f8f8ab7084a67dd7",measurementId:"G-NJD4T1QKKQ"}):(0,s.Dk)().length>0?(0,s.Dk)()[0]:null,o=u?(0,a.aU)(u):null;u&&(0,n.c7)(u);let c=u?(0,l.xI)(u):null},2570:(e,r,t)=>{Promise.resolve().then(t.bind(t,6856)),Promise.resolve().then(t.bind(t,650)),Promise.resolve().then(t.t.bind(t,9324,23)),Promise.resolve().then(t.t.bind(t,6874,23)),Promise.resolve().then(t.t.bind(t,7656,23))},6856:(e,r,t)=>{"use strict";t.d(r,{default:()=>u});var s=t(5155),a=t(6874),n=t.n(a),l=t(650);function u(){let{user:e,loading:r}=(0,l.A)();return r?null:(0,s.jsx)(n(),{href:e?"/admin":"/login",className:"py-2 px-4 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:e?"관리자 페이지":"관리자 로그인"})}},7656:e=>{e.exports={style:{fontFamily:"'Inter', 'Inter Fallback'",fontStyle:"normal"},className:"__className_d65c78"}},9324:()=>{}},e=>{var r=r=>e(e.s=r);e.O(0,[721,992,118,874,288,441,684,358],()=>r(2570)),_N_E=e.O()}]);