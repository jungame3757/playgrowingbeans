(()=>{var e={};e.id=246,e.ids=[246],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},26353:(e,t,s)=>{"use strict";s.r(t),s.d(t,{patchFetch:()=>m,routeModule:()=>u,serverHooks:()=>d,workAsyncStorage:()=>l,workUnitAsyncStorage:()=>c});var r={};s.r(r),s.d(r,{GET:()=>a,OPTIONS:()=>p});var n=s(96559),o=s(48088),i=s(37719);async function a(e){let t=new URL(e.url).searchParams.get("url");if(!t)return new Response("URL 파라미터가 필요합니다",{status:400});try{let e=decodeURIComponent(t),s=await fetch(e),r=s.headers.get("content-type");if(e.endsWith(".ts")||r?.includes("video/")||r?.includes("audio/")||r?.includes("binary")){let e=await s.arrayBuffer();return new Response(e,{status:s.status,headers:{"Content-Type":r||"video/mp2t","Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET, OPTIONS","Access-Control-Allow-Headers":"Content-Type"}})}{let t=await s.text(),n=t;if(r?.includes("application/vnd.apple.mpegurl")||e.endsWith(".m3u8")){let s=e.substring(0,e.lastIndexOf("/")+1);n=t.split("\n").map(e=>{if(e.includes(".ts")||e.includes(".m3u8")){if(e.startsWith("http"))return e.replace(/(https?:\/\/[^,\s]+)(\.ts|\.m3u8)/g,e=>`/api/proxy?url=${encodeURIComponent(e)}`);else if(!e.startsWith("#")&&(e.includes(".ts")||e.includes(".m3u8"))){let t=s+e.trim();return`/api/proxy?url=${encodeURIComponent(t)}`}}return e}).join("\n")}return new Response(n,{status:s.status,headers:{"Content-Type":r||(e.endsWith(".m3u8")?"application/vnd.apple.mpegurl":e.endsWith(".ts")?"video/mp2t":"application/octet-stream"),"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET, OPTIONS","Access-Control-Allow-Headers":"Content-Type"}})}}catch(e){return console.error("프록시 에러:",e),new Response("비디오 URL을 가져오는 중 오류가 발생했습니다: "+e.message,{status:500})}}async function p(){return new Response(null,{status:200,headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET, OPTIONS","Access-Control-Allow-Headers":"Content-Type","Access-Control-Max-Age":"86400"}})}let u=new n.AppRouteRouteModule({definition:{kind:o.RouteKind.APP_ROUTE,page:"/api/proxy/route",pathname:"/api/proxy",filename:"route",bundlePath:"app/api/proxy/route"},resolvedPagePath:"C:\\Users\\tjwns\\Documents\\GitHub\\playgrowingbeans\\app\\api\\proxy\\route.js",nextConfigOutput:"",userland:r}),{workAsyncStorage:l,workUnitAsyncStorage:c,serverHooks:d}=u;function m(){return(0,i.patchFetch)({workAsyncStorage:l,workUnitAsyncStorage:c})}},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},78335:()=>{},96487:()=>{},96559:(e,t,s)=>{"use strict";e.exports=s(44870)}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[719],()=>s(26353));module.exports=r})();